# 格密码入门

### 1. 格的定义

定义：线性独立空间上有集合 $v_1,v_2,......v_n \ \in R^n$，格（Lattices）就是这些向量的整数线性组合，用公式表示如下
$$
L=\{a_1v_1+a_2v_2+........+a_nv_n \mid a_1,a_2,...,a_n \in Z  \}
$$
即，如果L是由若干个实数向量组成的集合，若L中任意的 vector 的整数向量的线性组合仍然属于L，则可称这个集合为一个格。

其中，格 L 的一个基，$\{v_1,v_2,......v_n \}$的向量个数，即是格 L 的维数。

##### 判断一个向量是否属于一个格：

设有格 L 的基是$\{b_1,b_2,......b_n \}$ 向量 $v$，则计算 
$$
a=\{b_1,b_2,......b_n \}^{-1}v
$$
看$a$ 的每个分量是否都是整数。如果是，则属于这个格 L ；否则不属于格 L。

##### 陷门基：

如果格的秩为 n ，则格中 n 个整数线性无关且尺寸最小的一组向量，即为这个格的陷门基。

（这里的`尺寸`指的是向量的 欧氏距离 尽可能小）

##### 公开基：

如果一组基并不是格中尺寸最小 或 尺寸接近最小的几个向量，则为公开基。

##### 幺模矩阵：

如果 $A∈R^{m×n}$是整数矩阵，且 $r≡rank  \ A=min \{ m，n \} (即 r 是矩阵A_{m,n}的最小方阵)$，而且A的所有非零 $r×r$子式等于 1 或-1，则称A为**幺模矩阵**(`unimodular matrix`)

如果A是幺模矩阵，而且还有其各阶子式均等于0，1或-1，则称A为**全幺模矩阵**(`totally unimodular matrix`)。

如果A是幺模矩阵，则 A 的逆矩阵也是整数方阵。

如果有陷门基$\{ v_1,v_2,......v_n\}$ 和 公开基 $\{ u_1,u_2,......u_n\}$，则理论上可以找到这样一个幺模矩阵 $M$,使得如下变换成立：
$$
\{ v_1,v_2,......v_n\} * M =\{ u_1,u_2,......u_n\}
$$

##### 幺模矩阵的构造：

单位矩阵经过整数行（列）变换，即可得幺模矩阵，列如：
$$
\begin{pmatrix} 
1 & 0  \\ 
0 & 1 
\end{pmatrix}
=
\begin{pmatrix} 
1 & 0  \\ 
100 & 1 
\end{pmatrix}
=
\begin{pmatrix} 
200001 & 200  \\ 
100 & 1 
\end{pmatrix}
=
\begin{pmatrix} 
20001 & 20201  \\ 
100 & 101 
\end{pmatrix}
$$

##### 格的不变量：

格L的 基所组成的方阵的行列式的绝对值不变。

---

### 2. 困难问题

##### 最短向量问题（`SVP`，The Shortest Vector Problem）：

寻找一个格 L中最短的非零向量。即，寻找一个满足其 欧几里德范数 $\mid\mid v \mid\mid$ 最小

##### 最接近向量问题（`CVP`，The Closest Vector Problem）：

对于一个非格L中的向量 w，在格中寻找一个向量v，使得 $\mid\mid w-v \mid\mid$ 最小。

`CVP`和`SVP`都是NP完备问题，因此求解起来十分困难，因此这2个问题都是可以作为密钥体制的基础的。

### 

